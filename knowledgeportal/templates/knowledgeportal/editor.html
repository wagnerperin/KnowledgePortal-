{% extends "knowledgeportal/base.html" %}
{% load staticfiles %}

{%block head%}
<head>
        <title>{{title}}</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link href='{% static "css/bootstrap.min.css" %}' rel="stylesheet">
        <link href='{% static "css/modern-business.css" %}' rel="stylesheet">
        <link href='{% static "fonts/font-awesome/css/font-awesome.min.css" %}' rel="stylesheet" type="text/css">
        <link href='{% static "css/style.css" %}' rel="stylesheet" type="text/css">
        <link href='{% static "css/toastr.min.css" %}' rel="stylesheet" type="text/css">
        <link href='{% static "css/editorstyle.css" %}' rel="stylesheet" type="text/css">
        <link href='{% static "css/toolbar.css" %}' rel="stylesheet" type="text/css">
        <link href='{% static "css/bootstrap-colorpicker.min.css" %}' rel="stylesheet" type="text/css">
        <link href='{% static "css/bootstrap-colorpicker-plus.css" %}' rel="stylesheet" type="text/css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
{%endblock head%}

{% block content %}
<div class="container">

    <div class="row">
        <div class="col-xs-12">
            <h1>Meus Mapas Conceituais</h1>
        </div>
        <div class="col-xs-12">
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Novo Mapa Conceitual</button>

            <!-- Modal -->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Novo Mapa Conceitual</h4>
                        </div>
                        <form class="form" role="form" method="post" accept-charset="UTF-8" action="{% url 'editor' %}">{% csrf_token %}
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-xs-12 col-md-12 form-group">
                                        <input class="form-control" id="titulo_mapa" name="titulo_mapa" placeholder="Títul do Mapa Conceitual" type="text" required autofocus />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 col-md-12 form-group">
                                        <input class="form-control" id="question" name="question" placeholder="Questão de Investigação" type="text" required autofocus />
                                    </div>
                                </div>
                                <textarea class="form-control" id="description" name="description" placeholder="Descrição do Mapa" rows="5"></textarea>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                                <button type="submit" class="btn btn-primary">Criar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Título</th>
                        <th>Questão</th>
                        <th>Ações</th>
                    </tr>
                    <tbody>

                        {% for mapa in mapas.results %}

                            <tr>
                                <th scope="row">{{ mapa.id }}</th>
                                <td>{{ mapa.title}}</td>
                                <td>{{ mapa.question }}</td>
                                <td>
                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                    <i class="fa fa-pencil" aria-hidden="true"></i>
                                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                                </td>
                            </tr>

                        {% endfor %}

                    </tbody>
                </thead>
            </table>
        </div>
    </div>
    <!-- Page Heading/Breadcrumbs -->
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Título:
                <small><input type="text" id="mapTitle" value="Novo Mapa Conceitual" readonly></small> <a id="editLink" onclick="editTitle()"><span id="editIcone" class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
            </h1>
        </div>
    </div>
    <!-- /.row -->

    <div class="row">

        <!-- Blog Entries Column -->
        <div class="col-md-8">
            <!--<span id="background-color" class="glyphicon glyphicon-text-background"> </span>
<button type="button" onClick="treeLayout();">Tree Layout</button>
<button type="button" onClick="circularLayout();">Circular Layout</button>-->
            <!--<input id="selectionButton" type="color"/>-->
            <span style="margin-left: 4px;">
                <div class="btn-group" style="margin-right: 0px;">
                    <button id="selectedfont" type="button" class="btn btn-default" style="text-align: left; width: 94px;">Arial</button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="font" id="arial" href="#">Arial</a></li>
                        <li><a class="font" id="sans-serif" href="#">Sans-Serif</a></li>
                        <li><a class="font" id="times" href="#">Times</a></li>
                    </ul>
                </div>
                <div class="btn-group" style="margin-right: 4px;">
                    <button id="selectedfontsize" type="button" class="btn btn-default" style="text-align: left;">10</button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu fontsize">
                        <li><a class="font-size" id="10" href="#">10</a></li>
                        <li><a class="font-size" id="12" href="#">12</a></li>
                        <li><a class="font-size" id="14" href="#">14</a></li>
                    </ul>
                </div>
                <button id="bold" class="btn btn-default toolbar">B</button>
                <button id="italic" class="btn btn-default toolbar">I</button>
                <button id="underline" class="btn btn-default toolbar" style="text-decoration: underline;">S</button>
                <div class="btn-group btn-group-sm">
                    <button type="button" class="btn btn-default toolbar" id="inputColor" style="width: 49px;"><span id="fill-icon" class="color-fill-icon dropdown-color-fill-icon" style="background-color:#000;"></span>&nbsp;<b class="caret"></b></button>
                </div>
            </span>
            <div id="myDiagram" class="editor"></div>
        </div>

        <!-- Blog Sidebar Widgets Column -->
        <!-- <div class="col-md-4">


            <div class="well">
                <form class="form" role="form" method="post" accept-charset="UTF-8" action="{% url 'editor' %}">{% csrf_token %}
                    <h3 class="text-center">Dados do Mapa</h2>
                    <div class="row">
                        <div class="col-xs-12 col-md-12 form-group">
                            <input class="form-control" id="titulo_mapa" name="titulo_mapa" placeholder="Títul do Mapa Conceitual" type="text" required autofocus />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-12 form-group">
                            <input class="form-control" id="question" name="question" placeholder="Questão de Investigação" type="text" required autofocus />
                        </div>
                    </div>
                    <textarea class="form-control" id="description" name="description" placeholder="Descrição do Mapa" rows="5"></textarea>
                    <br />

                    <div class="row">
                        <div class="col-xs-12 col-md-12 form-group">
                            <button type="button" class="btn btn-primary btn-block" id="btNewMap" onclick="newMap();">Novo Mapa Conceitual</button>
                            <button type="submit" class="btn btn-success btn-block" id="btNewVersion">Salvar Mapa</button>
                        </div>
                        
                        <p id="information" style="display: none;">
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-12 form-group">
                            <button type="button" class="btn btn-info btn-block" data-toggle="collapse" data-target="#demo2">Opções para CMapTools</button>
                        </div>
                        <div id="demo2" class="collapse">
                            <div class="col-xs-12 col-md-12 form-group">
                                <p>Importar arquivo CXL</p>
                                <input class="form-control btn-block" id="cmapFile" name="cmapFile" placeholder="Selecione o Arquivo" type="file"/> <br />
                                <button type="button" class="btn btn-warning btn-block" id="btExportToCMap" onclick="exportToCMap();">Exportar</button>
                            </div>
                        </div>
                        <p id="information" style="display: none;">
                    </div>

                    </p>
                </form>
        </div>
    </div> -->
</div>
<hr>
{% endblock content %}
{% block scripts %}
    <script src='{% static "js/jquery.js"%}'></script>
    <script src='{% static "js/bootstrap.min.js"%}'></script>
    <script src='{% static "js/go.js"%}'></script>
    <script src='{% static "js/editor.js"%}'></script>
    <script src='{% static "js/cmaptools.js"%}'></script>
    <script src='{% static "js/bootstrap-colorpicker.min.js"%}'></script>
    <script src='{% static "js/bootstrap-colorpicker-plus.js"%}'></script>
    <script src='{% static "js/toolbar.js"%}'></script>
{% endblock scripts %}
